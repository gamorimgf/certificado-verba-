<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Certificado de Verba - Grupo Fleury</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- CABEÃ‡ALHO -->
    <div class="header">
        <h1>ğŸ“Š Certificado de Verba</h1>
        <p>Grupo Fleury - Sistema de GestÃ£o de Centros de Custo</p>
    </div>

    <!-- ÃREA DE UPLOAD -->
    <div class="upload-section">
        <div class="upload-container">
            <h3>ğŸ“ Carregar Dados</h3>
            <div class="upload-area" id="uploadArea">
                <div class="upload-content">
                    <div class="upload-icon">ğŸ“‹</div>
                    <p><strong>Clique aqui ou arraste seu arquivo CSV</strong></p>
                    <p class="upload-hint">Arquivo deve conter: N1, N2, N3, N4, N5, Centro de custo, Valor</p>
                    <input type="file" id="fileInput" accept=".csv" style="display: none;">
                </div>
            </div>
            <div class="upload-status" id="uploadStatus"></div>
            <div class="upload-actions">
                <button id="btnCarregarArquivo" class="btn btn-primary">ğŸ“ Selecionar Arquivo</button>
                <button id="btnUsarDadosDemo" class="btn btn-secondary">ğŸ§ª Usar Dados Demo</button>
            </div>
        </div>
    </div>

    <!-- ÃREA DE FILTROS -->
    <div class="container" id="filtrosContainer" style="display: none;">
        <div class="filtros-section">
            <h3>ğŸ” Filtros de SeleÃ§Ã£o</h3>
            
            <div class="filtro-grupo">
                <div class="checkbox-container">
                    <input type="checkbox" id="usarN2">
                    <label for="usarN2">ğŸ“Š Filtrar por Diretoria/Marca (N2)</label>
                </div>
                <select id="listaN2" disabled>
                    <option>Carregue um arquivo primeiro</option>
                </select>
            </div>

            <div class="filtro-grupo">
                <div class="checkbox-container">
                    <input type="checkbox" id="usarN3">
                    <label for="usarN3">ğŸ¢ Filtrar por GerÃªncia (N3)</label>
                </div>
                <select id="listaN3" disabled>
                    <option>Carregue um arquivo primeiro</option>
                </select>
            </div>

            <div class="filtro-grupo">
                <div class="checkbox-container">
                    <input type="checkbox" id="usarCC">
                    <label for="usarCC">ğŸ’¼ Filtrar por Centro de Custo</label>
                </div>
                <select id="listaCC" disabled>
                    <option>Carregue um arquivo primeiro</option>
                </select>
            </div>

            <div class="botoes-acao">
                <button onclick="aplicarFiltros()" class="btn btn-success">âœ… Aplicar Filtros</button>
                <button onclick="limparTudo()" class="btn btn-warning">ğŸ—‘ï¸ Limpar Filtros</button>
                <button onclick="voltarUpload()" class="btn btn-info">ğŸ”„ Carregar Novo Arquivo</button>
            </div>
        </div>

        <!-- ÃREA DE RESULTADOS -->
        <div class="resultados-section">
            <h3>ğŸ“‹ Centros de Custo Selecionados</h3>
            <div id="listaCentros">
                <p style="text-align: center; color: #6c757d;">ğŸ‘† Use os filtros acima para selecionar centros</p>
            </div>
            
            <div class="total-section">
                <h4>ğŸ’° Valor Total: R\$ <span id="valorTotal">0,00</span></h4>
                <button id="botaoGerar" onclick="gerarPDF()" class="btn btn-primary" disabled>ğŸ“„ Gerar Certificado PDF</button>
            </div>
        </div>
    </div>

    <!-- BIBLIOTECAS -->
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
